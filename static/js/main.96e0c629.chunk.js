(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(t,e,n){},130:function(t,e,n){},131:function(t,e,n){},135:function(t,e,n){"use strict";n.r(e);var i=n(72),s=n(40),r=n(41),o=n(49),a=n(47),c=n(0),l=n(60),d=n(73),u=n(14),h=n(165),p=n(164),g=n(163),j=n(71),x=n.n(j),f=n(160),b=n(57),O=n.n(b),m=n(168),y=n(70),C=n.n(y),v=n(166),G=(n(126),n(69)),k=n(3),M="EQh0DeRaL6DoipBy8vrLyDzp1hF7f2ej",w={mainCard:{borderRadius:"8px",marginTop:"25px",padding:"0"},noMargin:{margin:"0"},noPadding:{padding:"0"},gifPost:{textAlign:"center",padding:"10px 0px 0px 0px",cursor:"pointer"},formBox:{padding:"10px 15px",backgroundColor:"#F0F2F5",borderRadius:"50px",cursor:"pointer"},submitButton:{width:"100%",borderRadius:"8px",backgroundColor:"#1771E6"},search:{position:"relative",borderRadius:"50px",backgroundColor:"rgba(200,200,200, 0.15)",margin:"15px 24px 15px 24px",padding:"5px"},inputInput:{padding:"2px",paddingLeft:"15px",width:"100%"},iconButton:{backgroundColor:"rgba(200,200,200, 0.15)",marginLeft:"24px",marginRight:"24px",marginTop:"15px",padding:"5px"},iconButtonHover:{backgroundColor:"rgba(200,200,200, 1)",marginLeft:"24px",marginRight:"24px",marginTop:"15px",padding:"5px"},removeGifButton:{backgroundColor:"rgba(255,255,255, 0.95)",marginLeft:"24px",marginRight:"24px",marginTop:"15px",padding:"5px"},normalChip:{},selectChip:{},postText:{padding:"5px 24px 5px 24px"}},P=function(t){var e=Object(c.useState)(!1),n=Object(d.a)(e,2),i=n[0],s=n[1];return Object(k.jsx)(f.a,{style:i?w.iconButtonHover:w.iconButton,onClick:t.onClick,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:t.icon})},T=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i;return Object(s.a)(this,n),(i=e.call(this,t)).handleGifQueryChange=function(t){i.setState({gifQuery:t.target.value,gifs:[],hasMore:!0},(function(){return i.fetchMoreGifs()}))},i.handleClose=function(){i.setState({open:!1})},i.addPost=function(){i.setState({posts:[{text:i.state.currentText,gif:i.state.currentGif}].concat(Object(l.a)(i.state.posts)),currentText:"",currentGif:"",open:!1,gifs:[],hasMoreGifs:!0})},i.fetchMoreGifs=function(){console.log("here"),i.controller&&i.controller.abort(),i.controller=new AbortController;var t="https://api.giphy.com/v1/gifs/search?api_key=".concat(M,"&limit=12&rating=g&q=").concat(i.state.gifQuery,"&offset=").concat(i.state.gifs.length);""===i.state.gifQuery&&(t="https://api.giphy.com/v1/gifs/trending?api_key=".concat(M,"&limit=12&rating=g&offset=").concat(i.state.gifs.length)),console.log(t),fetch(t,{method:"get",signal:i.controller.signal}).then((function(t){return t.json()})).then((function(t){var e=i.state.gifs;t.data.forEach((function(t){e=[].concat(Object(l.a)(e),[{small:t.images.downsized_medium.url,original:t.images.downsized_medium.url}])}));var n=!1;t.pagination.total_count>=e.length&&(n=!0),i.setState({gifs:e,hasMoreGifs:n})})).catch((function(t){console.error(" Err: ".concat(t))}))},i.state={open:!1,isGifPage:!1,currentText:"",currentGif:"",gifQuery:"",hasMoreGifs:!0,gifs:[],posts:[{text:"This is default post",gif:""}]},i.controller=null,i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.fetchMoreGifs()}},{key:"render",value:function(){var t=this;console.log(this.state);var e=this.state.gifs.map((function(e,n){return Object(k.jsx)(u.Col,{s:12,children:Object(k.jsx)("img",{style:{cursor:"pointer"},width:"100%",src:e.small,alt:"Gif",onClick:function(){return t.setState({currentGif:e.original,isGifPage:!1})}})},n)}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Navbar,{style:{backgroundColor:"#1771E6"}}),Object(k.jsxs)("div",{className:"container",style:{maxWidth:"600px"},children:[Object(k.jsx)(u.Card,{style:w.mainCard,children:Object(k.jsx)(u.Row,{style:w.noMargin,children:Object(k.jsx)(u.Col,{s:12,style:w.noPadding,children:Object(k.jsx)("div",{style:w.formBox,onClick:function(){return t.setState({open:!0,isGifPage:!1})},children:"What's on your mind?"})})})}),Object(k.jsx)(h.a,{open:this.state.open,onClose:this.handleClose,children:this.state.isGifPage?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{style:{position:"absolute",left:0,top:0},children:Object(k.jsx)(P,{onClick:function(){return t.setState({isGifPage:!1})},icon:Object(k.jsx)(C.a,{})},"gif-page")}),Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h5",{children:"Choose a GIF"}),Object(k.jsx)("div",{style:w.search,children:Object(k.jsx)(v.a,{value:this.state.gifQuery,onChange:this.handleGifQueryChange,autoFocus:!0,placeholder:"Search\u2026",style:w.inputInput})})]}),Object(k.jsx)(g.a,{children:Object(k.jsx)(u.Row,{children:Object(k.jsx)(G.a,{dataLength:this.state.gifs.length,next:this.fetchMoreGifs,hasMore:this.state.hasMoreGifs,loader:Object(k.jsx)(u.Col,{s:12,style:{textAlign:"center"},children:Object(k.jsx)(u.Preloader,{active:!0,color:"blue",flashing:!1,size:"small"})}),height:400,endMessage:Object(k.jsx)("p",{style:{textAlign:"center"},children:Object(k.jsx)("b",{children:"Yay! You have seen it all"})}),children:e})})})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{style:{position:"absolute",right:0,top:0},children:Object(k.jsx)(P,{onClick:this.handleClose,icon:Object(k.jsx)(O.a,{})},"text-page")}),Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsx)("h5",{children:"Create Post"})}),Object(k.jsxs)(g.a,{children:[Object(k.jsx)(u.Textarea,{autoFocus:!0,id:"post-input",placeholder:"What's on your mind?",value:this.state.currentText,onChange:function(e){t.setState({currentText:e.target.value})}}),""===this.state.currentGif?null:Object(k.jsx)(u.Row,{children:Object(k.jsx)(u.Col,{s:12,style:{textAlign:"center",padding:"0"},children:Object(k.jsxs)("div",{style:{display:"inline-block",position:"relative",width:"100%"},children:[Object(k.jsx)("div",{style:{position:"absolute",right:0,top:0},children:Object(k.jsx)(f.a,{style:w.removeGifButton,onClick:function(){return t.setState({currentGif:""})},children:Object(k.jsx)(O.a,{})})}),Object(k.jsx)("img",{style:{borderRadius:"8px"},width:"100%",src:this.state.currentGif,alt:"Gif"})]})})}),Object(k.jsx)(m.a,{icon:Object(k.jsx)(x.a,{}),label:"GIF",clickable:!0,style:""===this.state.currentGif?w.normalChip:w.selectChip,onClick:function(){t.setState({isGifPage:!0})}})]}),Object(k.jsx)(p.a,{style:{padding:"8px 24px 24px 24px"},children:Object(k.jsx)(u.Button,{disabled:""===this.state.currentText&&""===this.state.currentGif,style:w.submitButton,onClick:this.addPost,children:"Post"})})]})}),this.state.posts.map((function(t,e){return Object(k.jsx)(u.Card,{className:"posts",style:w.mainCard,children:Object(k.jsxs)(u.Row,{style:w.noMargin,children:[""===t.text?null:Object(k.jsx)(u.Col,{s:12,style:w.postText,children:t.text}),""===t.gif?null:Object(k.jsx)(u.Col,{s:12,style:w.gifPost,children:Object(k.jsx)("img",{style:{width:"100%"},src:t.gif,alt:"Gif"})})]})},e)}))]})]})}}]),n}(c.Component),B=(n(130),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(k.jsx)(T,{})}}]),n}(c.Component)),R=n(13),S=n.n(R);n(131);S.a.render(Object(k.jsx)(i.a,{basename:"/react-giphy",children:Object(k.jsx)(B,{})}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.96e0c629.chunk.js.map